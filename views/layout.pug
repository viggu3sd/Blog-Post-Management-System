doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Blog Management System
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css", rel="stylesheet")
    link(rel="stylesheet", href="/css/style.css")
  body
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
      .container
        a.navbar-brand(href="/") Blog System
        button.navbar-toggler(type="button", data-bs-toggle="collapse", data-bs-target="#navbarNav")
          span.navbar-toggler-icon
        .collapse.navbar-collapse#navbarNav
          ul.navbar-nav.me-auto
            li.nav-item
              a.nav-link(href="/") Home
            if user
              li.nav-item
                a.nav-link(href="/posts/new") New Post
          ul.navbar-nav
            if user
              li.nav-item
                span.navbar-text.me-3 Hello, #{user.username}
              li.nav-item
                a.nav-link(href="/auth/logout") Logout
            else
              li.nav-item
                a.nav-link(href="/auth/login") Login
              li.nav-item
                a.nav-link(href="/auth/register") Register
    
    .container.mt-4
      if messages.error
        .alert.alert-danger= messages.error
      if messages.success
        .alert.alert-success= messages.success
      
      block content

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")
    script(src="/js/main.js")

    

if user
  li.nav-item
    span.navbar-text.me-3 Hello, #{user.username}
  if user.isAdmin
    li.nav-item.dropdown
      a.nav-link.dropdown-toggle(href="#", role="button", data-bs-toggle="dropdown") Admin
      ul.dropdown-menu
        li
          a.dropdown-item(href="/admin") Dashboard
        li
          a.dropdown-item(href="/admin/users") Users
        li
          a.dropdown-item(href="/admin/posts") Posts
  li.nav-item
    a.nav-link(href="/auth/logout") Logout